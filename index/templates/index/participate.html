<!DOCTYPE html>
{% extends "index/base.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block title_name %}
  <title>{{ title }}</title>
{% endblock title_name %}
{% block import_source %}
<link rel="stylesheet" href={% static "css/sign_up.css" %} media="screen">
<link rel="stylesheet" href={% static "css/participate.css" %} media="screen">
<script src={% static "js/upload.js" %}></script>
{% endblock import_source %}
{% block body_block %}
<div class="well">
  <form enctype="multipart/form-data" method="post" action="" class="form-horizontal" role="form">
    {% crispy form %}
    <div class="form-group">
      <textarea class="form-control" id="img-nameset" data-autoresize rows="1" disabled></textarea>
    </div>
    <div id="upload-img-btn-block">
      <input type="button" class="btn btn-success" value="Upload image" onclick="checkImgNumber('upload');" id="upload-btn">
      <p id="img-number">Number of upload image: 0</p>
      <p style="position: relative;top: -15px;">Max number is 5</p>
      <p style="position: relative;top: -30px;">*為必填</p>
    </div>
    <br>
    {% crispy formset formset.form.helper %}
    <div id="submit-btn">
      <input class="btn btn-default" type="reset" value="重設" onclick="resetParticipateForm();">
      <input class="btn btn-primary" type="submit" value="確定送出" onclick="return checkImgNumber('submit');">
    </div>
  </form>
</div>

<!-- Modal -->
<div class="modal fade" id="image-Modal" tabindex="-1" role="dialog" aria-labelledby="image-ModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h3 class="modal-title" id="image-ModalLabel">Upload image</h3>
      </div>
      <div class="modal-body">
        <form id="popup-img-form">
          <div class="form-group">
            <label for="img-title" class="control-label" requiredField>Title:</label>
            <span class="asteriskField">*</span>
            <input type="text" class="form-control" id="img-title">
          </div>
          <div class="form-group">
            <label for="image-content" class="control-label" requiredField>Content:</label>
            <span class="asteriskField">*</span>
            <textarea class="form-control" id="img-content"></textarea>
          </div>
          <div class="form-group" style="text-align: right;">
            <div style="text-align: left;">
              <label for="img-name" class="control-label" requiredField>Image:</label>
              <span class="asteriskField">*</span>
            </div>
            <input type="text" class="form-control" id="select-txt" disabled>
            <input type="button" class="btn btn-default btn-xs" id="select-btn" value="Select" onclick="selectImg()">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" onclick="resetModalForm();">Cancel</button>
        <button type="button" class="btn btn-primary" onclick="return setImgInfo();">OK</button>
      </div>
    </div>
  </div>
</div>

{% endblock body_block %}
